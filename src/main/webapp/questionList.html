<html lang="en"  >
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <title>问题</title>

 <style>

  /*   .u-safeAreaInset-top {
         height: constant(safe-area-inset-top) !important;
         height: env(safe-area-inset-top) !important;

     }
     .u-safeAreaInset-bottom {
         height: constant(safe-area-inset-bottom) !important;
         height: env(safe-area-inset-bottom) !important;

     }*/
  .tiezimoban{
   display: none;
  }
 </style>

 <link href="css/question1.css" rel="stylesheet">

 <link href="css/question2.css" rel="stylesheet">


 <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
 </script>
 <script type="text/javascript" src="js/jquery.cookie.js"></script>

</head>



<body>
<div id="root">
 <div>
  <div class="LoadingBar">
  </div>
  <div>
      <header  style=" " role="banner" class="Sticky AppHeader" data-za-module="TopNavBar">
          <div class="AppHeader-inner">

              <ul role="navigation" class="Tabs AppHeader-Tabs">
                  <li role="tab" class="Tabs-item AppHeader-Tab Tabs-item&#45;&#45;noMeta">
                      <a class="Tabs-link AppHeader-TabsLink " href="student.html" data-za-not-track-link="true">
                          首页</a>
                  </li>
                  <li role="tab" class="Tabs-item AppHeader-Tab Tabs-item&#45;&#45;noMeta">
                      <a class="Tabs-link AppHeader-TabsLink  is-active" href="questionList.html" data-za-not-track-link="true">
                          问题</a>
                  </li>
                  <li role="tab" class="Tabs-item AppHeader-Tab Tabs-item&#45;&#45;noMeta">
                      <a class="Tabs-link AppHeader-TabsLink " href="lessonList.html" data-za-not-track-link="true">
                          课程</a>
                  </li>
                  <li role="tab" class="Tabs-item AppHeader-Tab Tabs-item&#45;&#45;noMeta">
                      <a class="Tabs-link AppHeader-TabsLink  " href="document.html" data-za-not-track-link="true">
                          资料下载</a>
                  </li>
              </ul>
              <div class="SearchBar" role="search" data-za-module="PresetWordItem">

                  <button onclick="tiwen()" type="button" class="Button SearchBar-askButton Button&#45;&#45;primary Button&#45;&#45;blue">
                      提问</button>
              </div>
              <div class="AppHeader-userInfo">
                  <button type="button" class="Button PushNotifications-icon AppHeader-notifications Button&#45;&#45;plain">
<span style="display:inline-flex;align-items:center">
​<svg class="Zi Zi&#45;&#45;Bell" fill="currentColor" viewBox="0 0 24 24" width="22" height="22">
<path d="M4.523 15.076l.804-6.757a6.753 6.753 0 0 1 4.945-5.7 1.823 1.823 0 0 1 3.623 0 6.753 6.753 0 0 1 4.945 5.7l.804 6.757a2.293 2.293 0 0 0 1.712 2.108 1.093 1.093 0 0 1-.297 2.15H3.108a1.093 1.093 0 0 1-.297-2.15 2.293 2.293 0 0 0 1.712-2.108zM12.083 23a2.758 2.758 0 0 1-2.753-2.509.229.229 0 0 1 .232-.24h5.043a.229.229 0 0 1 .232.24 2.759 2.759 0 0 1-2.753 2.51z">
</path>
</svg>
</span>

                  </button>


                  <div class="AppHeader-profile">
                      <a href="personEdit.html">
                          <button type="button" class="Button AppHeader-profileEntry Button--plain">
                              <img id="headerimg" class="Avatar AppHeader-profileAvatar" width="30" height="30" src=""  >
                          </button></a>
                  </div>
              </div>
          </div>

      </header>

  </div>
  <main role="main" class="App-main">
   <div class="Topstory">
    <div class="Topstory-container">
     <div class="Topstory-mainColumn">
      <div class="Topstory-mainColumnCard">
       <div class="Card Topstory-noMarginCard Topstory-tabCard">

        <div>
         <div class="Sticky">
         </div>
        </div>
       </div>
       <!-- 模板          0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 -->
       <div class=" tiezimoban  Card TopstoryItem TopstoryItem-isRecommend" tabindex="0">
        <div class="Feed">
         <div class="ContentItem AnswerItem"  name="928976504" itemprop="answer" itemtype="http://schema.org/Answer" itemscope="">
          <h2 class="ContentItem-title">
           <div itemprop="zhihu:question" itemtype="http://schema.org/Question" itemscope="">
            <a target="_blank" data-za-detail-view-element_name="Title" data-za-detail-view-id="2812" href="/question/315387406/answer/928976504">
            </a>
           </div>
          </h2>

          <div class="RichContent is-collapsed">

           <div class="RichContent-inner">
 <span id="content" class="RichText ztext CopyrightRichText-richText" itemprop="text">
 </span>

           </div>
           <div class="ContentItem-actions">

            <button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel">
 <span style="display:inline-flex;align-items:center">
<!-- ?<svg class="Zi Zi&#45;&#45;Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em">-->
   <svg class="Zi Zi--Star GlobalSideBar-navIcon" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em">
<path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd">

</path>
 </svg>
 </span>
             <span id="answervalue" ></span> 条答案</button>

            <button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"  >
  <span   style="display:inline-flex;align-items:center;">
<!-- ?<svg class="Zi Zi&#45;&#45;Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em">-->
   <svg  id="mark" ifmark="no" onclick="mark(this)" class="Zi Zi--Star <!--GlobalSideBar-navIcon-->" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em">
<path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd">
 </path>

 </svg>
 </span>
             收藏</button>

           </div>
          </div>
         </div>
        </div>
       </div>
       <!-- 模板          0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 -->


       <div id="TopstoryContent" class="Topstory-content">
        <div class="ListShortcut"  >
         <div class="Topstory-recommend"  id="questionContentRongqi" >
          <div class="">



          </div>
         </div>
        </div>
       </div>
      </div>
     </div>


     <div class="GlobalSideBar">
      <div>
       <div class="Sticky">
        <div class="Card GlobalWrite">
         <a class="GlobalWrite-navItem" target="_blank" rel="noopener noreferrer" title="回答">
          <svg class="Zi Zi--Paper GlobalWrite-navIcon" fill="currentColor" viewBox="0 0 24 24" width="24" height="24">
           <path d="M9.273 6.13c-1.103 0-1.439.064-1.782.243a1.348 1.348 0 0 0-.576.564c-.183.336-.248.664-.248 1.743v6.64c0 1.079.065 1.407.248 1.743.135.247.323.431.576.564.343.18.68.243 1.782.243h5.454c1.103 0 1.439-.064 1.782-.243.253-.133.44-.317.576-.564.183-.336.248-.664.248-1.743V8.68c0-1.079-.065-1.407-.248-1.743a1.348 1.348 0 0 0-.576-.564c-.343-.18-.68-.243-1.782-.243H9.273zm0-1.63h5.454c1.486 0 2.025.151 2.568.436.543.284.97.7 1.26 1.232.29.532.445 1.059.445 2.512v6.64c0 1.453-.155 1.98-.445 2.512-.29.531-.717.948-1.26 1.232-.543.285-1.082.436-2.568.436H9.273c-1.486 0-2.025-.151-2.568-.436a2.997 2.997 0 0 1-1.26-1.232C5.155 17.3 5 16.773 5 15.32V8.68c0-1.453.155-1.98.445-2.512.29-.531.717-.948 1.26-1.232.543-.285 1.082-.436 2.568-.436zM8.5 8.576v1.467h7V8.576h-7zm0 2.609v1.467h7v-1.467h-7zm0 2.608v1.468h4.667v-1.468H8.5z">
           </path>
          </svg>
          <div class="GlobalWrite-navTitle">
           写回答</div>
         </a>

         <a class="GlobalWrite-navItem" href="/draft" target="_blank" rel="noopener noreferrer" title="草稿" data-za-not-track-link="true">
          <svg class="Zi Zi--BlankPaper GlobalWrite-navIcon" fill="currentColor" viewBox="0 0 24 24" width="24" height="24">
           <path d="M12.917 4a2 2 0 0 1 1.478.652l4.083 4.475A2 2 0 0 1 19 10.475v5.345c0 1.453-.155 1.98-.445 2.512-.29.531-.717.948-1.26 1.232-.543.285-1.082.436-2.568.436H9.273c-1.486 0-2.025-.151-2.568-.436a2.997 2.997 0 0 1-1.26-1.232C5.155 17.8 5 17.273 5 15.82V8.18c0-1.453.155-1.98.445-2.512.29-.531.717-.948 1.26-1.232C7.248 4.15 7.787 4 9.273 4h3.644zM12 5.63H9.273c-1.103 0-1.439.064-1.782.243a1.348 1.348 0 0 0-.576.564c-.183.336-.248.664-.248 1.743v7.64c0 1.079.065 1.407.248 1.743.135.247.323.431.576.564.343.18.68.243 1.782.243h5.454c1.103 0 1.439-.064 1.782-.243.253-.133.44-.317.576-.564.183-.336.248-.664.248-1.743V11.3H14a2 2 0 0 1-2-2V5.63zm1.5.37v2.9a.9.9 0 0 0 .9.9H17L13.5 6z">
           </path>
          </svg>
          <div class="GlobalWrite-navTitle">
           草稿箱</div>
         </a>
        </div>

        <div class="Card">
         <ul class="GlobalSideBar-navList">
          <li class="GlobalSideBar-navItem GlobalSideBar-starItem">
           <a target="_blank" data-za-not-track-link="true" type="button" class="Button GlobalSideBar-navLink Button--plain" href="/collections">
            <svg class="Zi Zi--Star GlobalSideBar-navIcon" fill="currentColor" viewBox="0 0 24 24" width="18" height="18">
             <path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd">
             </path>
            </svg>
            <span class="GlobalSideBar-navText">
我的收藏</span>
           </a>
          </li>
         </ul>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </main>
 </div>
</div>
 
<script>
function mark( node) {
    $(node).removeClass("GlobalSideBar-navIcon");


    var aa=$(node).attr('name');

   if($(node).attr('ifmark')=='no'){
    $.ajax({
        url:"app/mark",

        data:  {'questionid':aa , 'questiontitle':'1', 'userid':$.cookie('userid')},
        dataType:"text",
        type:"post",
        success:function(data){
            console.log("mark success");
        },
        error:function (data) {
            console.log("mark error");
        }
    });
       $(node).attr('ifmark','yes');
       $(node).attr('style','color:#2e7ae5');
   }
   else{
       $.ajax({
           url:"app/delectmark",

           data:"questionid="+aa+"&userid="+$.cookie('userid'),
           dataType:"text",
           type:"post",
           success:function(data){
               console.log("mark success");
           },
           error:function (data) {
               console.log("mark error");
           }
       });
       $(node).attr('ifmark','no');
       $(node).attr('style','color:#76839b');
   }
}




 function fatie( ti,co,an,hr,questionid,ifmark){

  $('.tiezimoban a:first-child').text(ti);
  $('.tiezimoban a:first-child').attr('href',hr);
  /* $('.tiezimoban span:nth-child(2)').css("color", "#CD00CD"); */
  /*  $('.tiezimoban span:nth-child(1)').text('2222'); */
  $("#content").html(co);

  $("#answervalue").text(an);
  $("#mark").attr('name',questionid);
  if(ifmark==true){
      $("#mark").attr('ifmark','yes');
      $("#mark").attr('style','color:#2e7ae5');

  }

  var clone=$(".tiezimoban").clone(true);
  clone.removeClass("tiezimoban");

  $(".Topstory-recommend").append(clone);



     $("#mark").attr('ifmark','no');
     $("#mark").attr('style','color:#76839b');
}


</script>

<script>
 function tiwen(){
  window.open('askquestion.html', 'newwindow', 'height=300, width=500, top=500, left=500, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no') //这句要写成一行
 }


 
</script>


<script>


 $.ajax({
  url:"app/question",
  contentType:"application/json;charset=UTF-8",
  data:JSON.stringify("{'name':'ethan','age':'123'}"),
  dataType:"text",
  type:"post",
  success:function(data){
   var jo=JSON.parse(data);
   for(var i=0;i<jo.length;i++)
    fatie(jo[i].title,jo[i].content,jo[i].answernumber,"answer.html?a="+jo[i].id,jo[i].id,jo[i].ifmark);
   console.log(data);
  },
  error:function (data) {
   console.log(data.error,data.message);
  }
 });


</script>

<script>
 if($.cookie('touxiang').length>0){
  $("#headerimg").attr('src',$.cookie('touxiang'));
 }
 console.log($.cookie('touxiang'));

</script>
</body>
</html>